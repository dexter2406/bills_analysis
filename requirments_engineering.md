# 需求分析
## 痛点or需求
1. 没有ocr，需要手动根据账单输入netto和brutto
2. 没有自动分类：需要根据商家自己手动选择分类（自定义好的类别选项）
3. 需要检查账单合规：对方的税号是否缺失、我方公司名是否完全正确
4. 电费得手算：希望每月输入读表结果，然后自动根据规则计算本月的电费
5. 对应的账单pdf文件需要自动改名、分类
6. 分类花费的一览表

## 输入分析
### 1. 原始输入类型

1. 账单pdf：但有的是电子版，有的只是照片扫描（可能会有歪曲和模糊），但没有手写
    1. **有的PDF是照片扫的，体量太大，需要规范化**
2. 电、气等：手动填入数字，基于上一次的计算本月用量，然后通过固定公式得到，与账单处理逻辑不同

### 2. 账单—语言与格式稳定性

- 账单语言：99%都是德语，但也极小可能存在英语
- 账单形式：有多种形式，不一定都直接有Brutto和Netto这两个关键字，需要有一定的语义分析，比如：“理解”哪些字段代表了Brutto和Netto、以及对应数字的位置（比如”Brutto: 111”，那么111是需要能被对应到Brutto这个字段）
- 可手动调整：
    - 对于OCR识别置信度不高的，要给警告
    - 由于账务问题比较敏感，最好可以在自动填入的同时，也直接截出原pdf的位置，方便人工直接inplace检查
    - 保留一些手工填入的字段，先填0
	

## 当前的处理方式（还未完成全部调研，更新中）
### 表格1处理：银行侧支出—Office Abrechnung

字段如下：

- 日期（实际扫描时的日期）
- 分类（自定义的、手工选择）
- 公司名称
- Brutto、Netto值

### 表格2处理：店里的每日收支—Bar Rechnung

由如下几部分组成：

- 客人提供的流水：有直接的Netto和Brutto，以天为单位
    - Umsatz Brutto、Umsatz Netto（都可以直接从Z-Bon里读）
    - 账单在Wie viel Rechnungen 这一列
- 店里临时开销（比如去go asia买东西）：每次购物有小票，也有Netto和Brutto，按次数算
    - Ausgabe N 的 Name、Brutto、netto
    - 小票统一在Wie viele Umsatz eingezahlt 这一列
    - 小结：Ausgabe sum Brutto、Sum Netto
- 这几个还要明确下：SumUp、Bar Umsatz、TK
    - Go Asia这类都是用现金交易的吗？
    - TK没有被用到，是否作为手动输入项目？
- 外卖（先不管）：Lieferando、WOLT、Ubereat
